(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{121:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(0),c=a.n(l),i=a(116),s=a.n(i),o=a(117),u=a.n(o),m=function(e){return c.a.createElement(s.a,{editor:u.a,data:e.content,onChange:function(t,a){e.setData(a.getData())},config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","imageUpload","imageStyle:full","imageStyle:side","insertTable","|","undo","redo"],language:"pt",heading:{options:[{model:"paragraph",title:"Parágrafo",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Título 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Título 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Título 3",class:"ck-heading_heading3"}]},height:"400px"}})};m.propTypes={content:r.a.any,setData:r.a.func};var d=m,p=function(e){var t=e.tags,a=e.setTags,n=Object(l.useRef)(),r=function(e){var n=t.filter((function(t,a){return e!=a}));a(n)};return c.a.createElement("div",{className:"input-tag"},c.a.createElement("ul",{className:"input-tag__tags"},t.map((function(e,t){return c.a.createElement("li",{key:e},e,c.a.createElement("button",{type:"button",onClick:function(){r(t)}},c.a.createElement("i",{className:"material-icons"},"clear")))})),c.a.createElement("li",{className:"input-tag__tags__input"},c.a.createElement("input",{type:"text",onKeyDown:function(e){var l=e.target.value;if("Enter"===e.key&&l){if(t.find((function(e){return e.toLowerCase()===l.toLowerCase()})))return;a(t.concat([l])),n.current.value=""}else"Backspace"!==e.key||l||r(t.length-1)},ref:n}))))};p.propTypes={setTags:r.a.func,tags:r.a.array};var f=p,v=a(2),E=a.n(v),b=a(7),h=a(24);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var N=function(e){var t=e.question,a=y(Object(l.useState)(),2),n=a[0],r=a[1],i=y(Object(l.useState)(),2),s=i[0],o=i[1],u=y(Object(l.useState)(t?t.content:null),2),m=u[0],p=u[1],v=y(Object(l.useState)(t?t.alternativeA:null),2),g=v[0],N=v[1],S=y(Object(l.useState)(t?t.alternativeB:null),2),j=S[0],O=S[1],A=y(Object(l.useState)(t?t.alternativeC:null),2),q=A[0],T=A[1],w=y(Object(l.useState)(t?t.alternativeD:null),2),k=w[0],C=w[1],x=y(Object(l.useState)(t?t.alternativeE:null),2),D=x[0],L=x[1],Q=y(Object(l.useState)(t?t.correctAlternative:""),2),_=Q[0],H=Q[1],B=y(Object(l.useState)(t?t.subject.id:""),2),I=B[0],U=B[1],z=y(Object(l.useState)([]),2),R=z[0],P=z[1],F=y(Object(l.useState)(t?t.tags.split(",").map((function(e){return e.trim()})):[]),2),J=F[0],$=F[1],K=y(Object(l.useState)(),2),G=K[0],V=K[1];Object(l.useEffect)((function(){r(!0),E.a.get("/subjects").then((function(e){P(e.data.data);var t=document.querySelector("#modal"),a=M.Modal.init(t,{});V(a)})).catch((function(e){o(e)})).finally((function(){r(!1)}))}),[E.a]);var W=function(e,t,a){var n=document.querySelector("#modal h4");n.innerHTML=e,n.className=t,document.querySelector("#modal p").innerHTML=a},X=null;return X=n?c.a.createElement(b.a,null):s?c.a.createElement(h.a,{message:s.message}):c.a.createElement("div",null,c.a.createElement("div",{className:"content"},c.a.createElement("p",{className:"label"},"Conteúdo"),c.a.createElement(d,{content:m,setData:p})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa A"),c.a.createElement(d,{content:g,setData:N})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa B"),c.a.createElement(d,{content:j,setData:O})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa C"),c.a.createElement(d,{content:q,setData:T})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa D"),c.a.createElement(d,{content:k,setData:C})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa E (Opcional)"),c.a.createElement(d,{content:D,setData:L})),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Alternativa Correta"),c.a.createElement("select",{className:"browser-default",onChange:function(e){return H(e.target.value)},value:_},c.a.createElement("option",{disabled:!0,selected:!0,value:""},"Selecione uma Alternativa"),c.a.createElement("option",{value:"a"},"A"),c.a.createElement("option",{value:"b"},"B"),c.a.createElement("option",{value:"c"},"C"),c.a.createElement("option",{value:"d"},"D"),c.a.createElement("option",{value:"e"},"E"))),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Matéria"),c.a.createElement("select",{onChange:function(e){return U(e.target.value)},className:"browser-default",value:I},c.a.createElement("option",{disabled:!0,selected:!0,value:""},"Selecione uma Matéria"),R.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.name)})))),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Tags"),c.a.createElement(f,{tags:J,setTags:$})),c.a.createElement("button",{className:"btn green",onClick:function(){var e=document.createElement("div"),a=!1,n=null;if(e.innerHTML=m,m&&e.innerText.trim()||(a=!0,n="O campo 'Conteúdo' precisa ser preenchido"),e.innerHTML=g,a||g&&e.innerText.trim()||(a=!0,n="O campo 'Alternativa A' precisa ser preenchido"),e.innerHTML=j,a||j&&e.innerText.trim()||(a=!0,n="O campo 'Alternativa B' precisa ser preenchido"),e.innerHTML=q,a||q&&e.innerText.trim()||(a=!0,n="O campo 'Alternativa C' precisa ser preenchido"),e.innerHTML=k,a||k&&e.innerText.trim()||(a=!0,n="O campo 'Alternativa D' precisa ser preenchido"),a||_||(a=!0,n="Uma alternativa correta precisa ser selecionada"),a||I||(a=!0,n="Uma matéria precisa ser selecionada"),e.innerHTML=D,a||D&&e.innerText.trim()||"E"!==_||(a=!0,n="A alternativa correta não pode ser 'E' pois esta não está preenchida"),a)W("Erro no formulário","red-text",n),G.open();else{var l={content:m,alternativeA:g,alternativeB:j,alternativeC:q,alternativeD:k,alternativeE:D,correctAlternative:_,subject:I,tags:J};r(!0);(t?E.a.put("/questions/".concat(t.id),l):E.a.post("/questions",l)).then((function(e){if(200===e.status){var a=t?"atualizada":"criada";W("Questão ".concat(a," com Sucesso!"),"green-text","Sua questão foi ".concat(a," e já está disponível na sessão 'Minhas Questões'")),G.open()}})).catch((function(e){o(e),console.error(e)})).finally((function(){r(!1)}))}}},t?"Salvar":"Criar"),c.a.createElement("div",{className:"btn orange",onClick:function(){p(""),N(""),O(""),T(""),C(""),L(""),H(""),U(""),$([])}},"Limpar")),c.a.createElement("div",null,X)};N.propTypes={question:r.a.shape({alternativeA:r.a.any,alternativeB:r.a.any,alternativeC:r.a.any,alternativeD:r.a.any,alternativeE:r.a.any,content:r.a.any,correctAlternative:r.a.any,id:r.a.any,subject:r.a.shape({id:r.a.any}),tags:r.a.shape({split:r.a.func})})};t.default=N},194:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(0),c=a.n(l),i=a(3),s=a(17),o=a(7),u=a(121),m=a(2),d=a.n(m),p=a(24);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var E=Object(i.f)((function(e){var t=f(Object(l.useState)(),2),a=t[0],n=t[1],r=f(Object(l.useState)(),2),i=r[0],s=r[1],m=f(Object(l.useState)(),2),v=m[0],E=m[1],b=e.match.params.question;Object(l.useEffect)((function(){n(!0),d.a.get("questions/".concat(b)).then((function(e){s(e.data.data)})).catch((function(e){console.error(e),E(e)})).finally((function(){n(!1)}))}),[d.a,b]);var h=null;return a?h=c.a.createElement(o.a,null):i?h=c.a.createElement(u.default,{question:i}):v&&(h=c.a.createElement(p.a,{message:v.message})),h})),b=Object(l.lazy)((function(){return a.e(5).then(a.bind(null,193))})),h=Object(l.lazy)((function(){return Promise.resolve().then(a.bind(null,121))})),y=function(e){var t=Object(l.useRef)();return c.a.createElement("section",{className:"questions container"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/questions/:question/edit",render:function(){return c.a.createElement("h3",null,"Editar Questão")}}),c.a.createElement(i.a,{path:"/questions/bookmarked",render:function(){return c.a.createElement("h3",null,"Favoritos")}}),c.a.createElement(i.a,{path:"/questions/answered",render:function(){return c.a.createElement("h3",null,"Questões Respondidas")}}),c.a.createElement(i.a,{path:"/questions/create",render:function(){return c.a.createElement("h3",null,"Nova Questão")}}),c.a.createElement(i.a,{path:"/questions",render:function(){return c.a.createElement("h3",null,"Minhas Questões")}})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s12 m5"},c.a.createElement("ul",{className:"collection"},c.a.createElement("li",{className:"collection-item"},c.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=t.current.value;n&&n.trim()?e.history.push("/questions?query=".concat(n)):e.history.push("/questions")},className:"flex"},c.a.createElement("input",{type:"text",placeholder:"Procurar Questões",ref:t}),c.a.createElement("button",{className:"btn btn-primary z-depth-0"},c.a.createElement("i",{className:"material-icons"},"search")))),c.a.createElement(s.c,{to:"/questions",className:"collection-item",activeClassName:"active",exact:!0},"Minhas Questões",c.a.createElement("span",{className:"secondary-content blue-text"},c.a.createElement("i",{className:"material-icons"},"person"))),c.a.createElement(s.c,{to:"/questions/bookmarks",className:"collection-item",activeClassName:"active",exact:!0},"Favoritos",c.a.createElement("span",{className:"secondary-content yellow-text text-darken-1"},c.a.createElement("i",{className:"material-icons"},"star"))),c.a.createElement(s.c,{to:"/questions/answered",className:"collection-item",activeClassName:"active",exact:!0},"Questões Respondidas",c.a.createElement("span",{className:"secondary-content green-text"},c.a.createElement("i",{className:"material-icons"},"check")))),c.a.createElement("div",{className:"my-3"},c.a.createElement(s.b,{to:"/questions/create",className:"btn green"},"Nova Questão"))),c.a.createElement("div",{className:"col s12 m7 card"},c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/questions/:question/edit",render:function(){return c.a.createElement(l.Suspense,{fallback:c.a.createElement(o.a,null)},c.a.createElement(E,null))}}),c.a.createElement(i.a,{path:"/questions/create",render:function(){return c.a.createElement(l.Suspense,{fallback:c.a.createElement(o.a,null)},c.a.createElement(h,null))}}),c.a.createElement(i.a,{path:"/questions",render:function(){return c.a.createElement(l.Suspense,{fallback:c.a.createElement(o.a,null)},c.a.createElement(b,null))}})))))};y.propTypes={history:r.a.shape({push:r.a.func})};t.default=Object(i.f)(y)},24:function(e,t,a){"use strict";var n=a(1),r=a.n(n),l=a(0),c=a.n(l),i=function(e){return c.a.createElement("div",null,c.a.createElement("h5",{className:"red-text"},"Um erro inesperado aconteceu"),c.a.createElement("p",null,e.message))};i.propTypes={message:r.a.string},t.a=c.a.memo(i)}}]);