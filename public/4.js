(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{12:function(e,a,t){"use strict";var n=t(1),r=t.n(n),l=t(0),c=t.n(l),i=function(e){return c.a.createElement("div",null,c.a.createElement("h5",{className:"red-text"},"Um erro inesperado aconteceu"),c.a.createElement("p",null,e.message))};i.propTypes={message:r.a.string},a.a=c.a.memo(i)},31:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(0),c=t.n(l),i=t(16),s=t.n(i),o=t(17),u=t.n(o),m=function(e){return c.a.createElement(s.a,{editor:u.a,data:e.content,onChange:function(a,t){e.setData(t.getData())},config:{toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","imageUpload","imageStyle:full","imageStyle:side","insertTable","|","undo","redo"],language:"pt",heading:{options:[{model:"paragraph",title:"Parágrafo",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Título 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Título 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Título 3",class:"ck-heading_heading3"}]},height:"400px"}})};m.propTypes={content:r.a.any,setData:r.a.func};var d=m,p=function(e){var a=e.tags,t=e.setTags,n=Object(l.useRef)(),r=function(e){var n=a.filter((function(a,t){return e!=t}));t(n)};return c.a.createElement("div",{className:"input-tag"},c.a.createElement("ul",{className:"input-tag__tags"},a.map((function(e,a){return c.a.createElement("li",{key:e},e,c.a.createElement("button",{type:"button",onClick:function(){r(a)}},c.a.createElement("i",{className:"material-icons"},"clear")))})),c.a.createElement("li",{className:"input-tag__tags__input"},c.a.createElement("input",{type:"text",onKeyDown:function(e){var l=e.target.value;if("Enter"===e.key&&l){if(a.find((function(e){return e.toLowerCase()===l.toLowerCase()})))return;t(a.concat([l])),n.current.value=""}else"Backspace"!==e.key||l||r(a.length-1)},ref:n}))))};p.propTypes={setTags:r.a.func,tags:r.a.array};var v=p,f=t(4),E=t.n(f),g=t(5),b=t(12),h=t(2);function y(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,r=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(t.push(c.value),!a||t.length!==a);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return t}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return S(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}var T=function(e){var a=y(Object(l.useState)(),2),t=a[0],n=a[1],r=y(Object(l.useState)(),2),i=r[0],s=r[1],o=y(Object(l.useState)(),2),u=o[0],m=o[1],p=y(Object(l.useState)(),2),f=p[0],h=p[1],S=y(Object(l.useState)(),2),T=S[0],O=S[1],A=y(Object(l.useState)(),2),j=A[0],N=A[1],w=y(Object(l.useState)(),2),C=w[0],D=w[1],k=y(Object(l.useState)(),2),x=k[0],L=k[1],_=y(Object(l.useState)(),2),q=_[0],H=_[1],B=Object(l.useRef)(),U=Object(l.useRef)(),I=y(Object(l.useState)([]),2),Q=I[0],R=I[1],J=y(Object(l.useState)([]),2),K=J[0],P=J[1],$=y(Object(l.useState)(),2),z=$[0],F=$[1],G=e.match.params.question;Object(l.useEffect)((function(){n(!0);var e=E.a.get("/subjects");if(G){var a=E.a.get("/questions/".concat(G));E.a.all(e,a).then(E.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1];R(e.data.data);var t=document.querySelector("#modal"),n=M.Modal.init(t,{});F(n),console.log(a),H(a.data.data)}))).catch((function(e){s(e[0])})).finally((function(){n(!1)}))}}),[E.a]);var V=function(e,a,t){var n=document.querySelector("#modal h4");n.innerHTML=e,n.className=a,document.querySelector("#modal p").innerHTML=t},W=null;return W=t?c.a.createElement(g.a,null):i?c.a.createElement(b.a,{message:i.message}):c.a.createElement("div",null,c.a.createElement("div",{className:"content"},c.a.createElement("p",{className:"label"},"Conteúdo"),c.a.createElement(d,{data:q?q.content:u,setData:m})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa A"),c.a.createElement(d,{data:q?q.alternativeA:f,setData:h})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa B"),c.a.createElement(d,{data:q?q.alternativeB:T,setData:O})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa C"),c.a.createElement(d,{data:q?q.alternativeC:j,setData:N})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa D"),c.a.createElement(d,{data:q?q.alternativeD:C,setData:D})),c.a.createElement("div",{className:"alternative"},c.a.createElement("p",{className:"label"},"Alternativa E (Opcional)"),c.a.createElement(d,{data:q?q.alternativeE:x,setData:L})),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Alternativa Correta"),c.a.createElement("select",{className:"browser-default",ref:B},c.a.createElement("option",{disabled:!0,selected:!0,value:""},"Selecione uma Alternativa"),c.a.createElement("option",{value:"A"},"A"),c.a.createElement("option",{value:"B"},"B"),c.a.createElement("option",{value:"C"},"C"),c.a.createElement("option",{value:"D"},"D"),c.a.createElement("option",{value:"E"},"E"))),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Matéria"),c.a.createElement("select",{ref:U,className:"browser-default"},c.a.createElement("option",{disabled:!0,selected:!0,value:""},"Selecione uma Matéria"),Q.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.name)})))),c.a.createElement("div",null,c.a.createElement("p",{className:"label"},"Tags"),c.a.createElement(v,{tags:K,setTags:P})),c.a.createElement("button",{className:"btn green",onClick:function(){var e=document.createElement("div"),a=!1,t=null;if(e.innerHTML=u,u&&e.innerText.trim()||(a=!0,t="O campo 'Conteúdo' precisa ser preenchido"),e.innerHTML=f,a||f&&e.innerText.trim()||(a=!0,t="O campo 'Alternativa A' precisa ser preenchido"),e.innerHTML=T,a||T&&e.innerText.trim()||(a=!0,t="O campo 'Alternativa B' precisa ser preenchido"),e.innerHTML=j,a||j&&e.innerText.trim()||(a=!0,t="O campo 'Alternativa C' precisa ser preenchido"),e.innerHTML=C,a||C&&e.innerText.trim()||(a=!0,t="O campo 'Alternativa D' precisa ser preenchido"),a||B.current.value||(a=!0,t="Uma alternativa correta precisa ser selecionada"),a||U.current.value||(a=!0,t="Uma matéria precisa ser selecionada"),e.innerHTML=x,a||x&&e.innerText.trim()||"E"!==B.current.value||(a=!0,t="A alternativa correta não pode ser 'E' pois esta não está preenchida"),a)V("Erro no formulário","red-text",t),z.open();else{var r={content:u,alternativeA:f,alternativeB:T,alternativeC:j,alternativeD:C,alternativeE:x,correctAlternative:B.current.value,subject:U.current.value,tags:K};n(!0),E.a.post("/questions",r).then((function(e){200===e.status&&(V("Questão criada com Sucesso!","green-text","Sua questão foi criada e já está disponível na sessão 'Minhas Questões'"),z.open())})).catch((function(e){s(e),console.error(e)})).finally((function(){n(!1)}))}}},"Criar")),c.a.createElement("div",null,W)};T.propTypes={match:r.a.shape({params:r.a.shape({question:r.a.any})})};a.default=Object(h.f)(T)}}]);